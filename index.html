<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MahiruCoin</title>
  <link rel="icon" href="./img/favicon.jpg" type="image/jpg">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>

  <style>
    :root {
      --accent: #ffc4eb;
      --bg-blur-dark: rgba(0, 0, 0, 0.4);
      --bg-blur-light: rgba(255, 255, 255, 0.4);
      --text-dark: #fff;
      --text-light: #222;
      --nav-link-dark: #ffc4eb;
      --nav-link-light: #cc0066;
    }

    html[data-theme="dark"] {
      --bg-blur: var(--bg-blur-dark);
      --text-color: var(--text-dark);
      --nav-link: var(--nav-link-dark);
    }

    html[data-theme="light"] {
      --bg-blur: var(--bg-blur-light);
      --text-color: var(--text-light);
      --nav-link: var(--nav-link-light);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Outfit', sans-serif;
      background: url('./img/mahiru.webp') no-repeat center center fixed;
      background-size: cover;
      color: var(--text-color);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem 1rem;
      animation: fadeIn 0.8s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .container {
      max-width: 820px;
      width: 100%;
      background: var(--bg-blur);
      backdrop-filter: blur(12px);
      border-radius: 20px;
      padding: 2rem;
      box-shadow: 0 0 20px rgba(255, 182, 193, 0.1);
    }

    h1 {
      font-size: 3rem;
      text-align: center;
      margin-bottom: 0.5rem;
    }

    p.tagline {
      text-align: center;
      color: var(--accent);
      margin-bottom: 2rem;
    }

    nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    nav a {
      color: var(--nav-link);
      text-decoration: none;
      font-weight: 500;
      transition: color 0.2s ease;
    }

    nav a:hover {
      color: #fff;
    }

    h2 {
      margin-top: 2rem;
      margin-bottom: 0.5rem;
      color: var(--accent);
    }

    section {
      margin-bottom: 2rem;
    }

    ul, ol {
      padding-left: 1.2rem;
    }

    a {
      color: var(--accent);
    }

    footer {
      text-align: center;
      font-size: 0.9rem;
      opacity: 0.6;
      margin-top: 2rem;
    }

    .toggle {
      position: fixed;
      top: 1rem;
      right: 1rem;
      background: rgba(0,0,0,0.3);
      border: 1px solid rgba(255,255,255,0.2);
      backdrop-filter: blur(10px);
      border-radius: 12px;
      padding: 0.4rem 0.8rem;
      cursor: pointer;
      color: white;
      font-size: 0.9rem;
      z-index: 1000;
    }

    #chart {
      width: 100%;
      height: 300px;
      margin-top: 1.5rem;
      border-radius: 10px;
      overflow: hidden;
    }

    @media (max-width: 600px) {
      h1 { font-size: 2.2rem; }
      .container { padding: 1.5rem; }
      .toggle { font-size: 0.8rem; top: 0.5rem; right: 0.5rem; }
      #chart { height: 200px; }
    }
  </style>
</head>
<body>
  <div class="toggle" onclick="toggleTheme()">üåô Toggle Mode</div>

  <div class="container">
    <h1>MahiruCoin</h1>
    <p class="tagline">A coin inspired by Mahiru's unwavering cuteness and dangerously volatile charm.</p>

    <nav>
      <a href="./MahiruCoin.pdf">WhitePaper</a>
      <a href="#tentang">About</a>
      <a href="#tokenomics">Tokenomics</a>
      <a href="#beli">How to Buy</a>
      <a href="#roadmap">Roadmap</a>
      <a href="#faq">Faq</a>
      <a href="#tim">Team</a>
    </nav>

    <section id="tentang">
      <h2>About Coin</h2>
      <p>MahiruCoin (MHC) serves as a savings and store of value tool on the highly volatile Rugplay platform.</p>
      <p>It was born from the chaotic love between AI and anime. Invest with cuteness and danger.</p>
    </section>

    <section id="why">
      <h2>Why MahiruCoin?</h2>
      <p>Because logic is overrated. MahiruCoin is for those who believe in beauty, chaos, and cute regret.</p>
    </section>

    <section id="tokenomics">
      <h2>Tokenomics</h2>
      <ul>
        <li>Total Supply: <strong>1,000,000,000 MHC</strong></li>
        <li>Liquidity: <strong id="liquidity">Loading...</strong></li>
        <li>Current Price: <strong id="price">Loading...</strong></li>
        <li>Market Cap: <strong id="marketcap">Loading...</strong></li>
        <li>24h Volume: <strong id="volume">Loading...</strong></li>
        <li>24h Change: <strong id="change">Loading...</strong></li>
      </ul>
      <div id="chart" style="height: 300px; margin: 1rem 0; width: 80%;"></div>
      <script src="https://unpkg.com/lightweight-charts@4.0.0/dist/lightweight-charts.standalone.production.js"></script>
    </section>

    <section id="beli">
      <h2>How to Buy</h2>
      <ol>
        <li>Go to <a href="https://rugplay.com/coin/MHC" target="_blank">Rugplay.com</a></li>
        <li>Login with Google</li>
        <li>Buy MahiruCoin üíñ</li>
      </ol>
    </section>

    <section id="roadmap">
      <h2>Roadmap</h2>
      <p>Reach leaderboard glory. Become royalty.</p>
    </section>

    <section id="faq">
      <h2>FAQ</h2>
      <p><strong>Q:</strong> Can I withdraw MahiruCoin?<br><strong>A:</strong> No. It's just for chaos.</p>
      <p><strong>Q:</strong> Is this a joke?<br><strong>A:</strong> Yes. Or maybe not.</p>
    </section>

    <section id="tim">
      <h2>Team</h2>
      <p>Coin developer: <a href="https://rugplay.com/user/nyanta" target="_blank">nyanta</a></p>
      <p>Investor (my wife): <a href="https://www.instagram.com/ichahusain_/" target="_blank">icha</a></p>
    </section>

    <p style="font-size: 0.8rem; opacity: 0.6; text-align: center;">‚ö†Ô∏è MahiruCoin is cute, chaotic, and probably useless. Invest with your heart, not your brain.</p>

    <footer>
      &copy; 2025 MahiruCoin. Made with volatility and love.
    </footer>
  </div>

  <script>
    const themeKey = 'mahiru-theme';
    function toggleTheme() {
      const current = document.documentElement.getAttribute('data-theme');
      const next = current === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', next);
      localStorage.setItem(themeKey, next);
    }

    window.addEventListener('DOMContentLoaded', () => {
      const saved = localStorage.getItem(themeKey);
      if (saved) document.documentElement.setAttribute('data-theme', saved);
    });

    document.addEventListener('click', function (e) {
      const heart = document.createElement('div');
      heart.textContent = 'üíñ';
      heart.style.position = 'fixed';
      heart.style.left = e.clientX + 'px';
      heart.style.top = e.clientY + 'px';
      heart.style.pointerEvents = 'none';
      heart.style.fontSize = '1.5rem';
      heart.style.opacity = 1;
      heart.style.transition = 'all 1s ease-out';
      document.body.appendChild(heart);
      setTimeout(() => {
        heart.style.top = e.clientY - 50 + 'px';
        heart.style.opacity = 0;
      }, 10);
      setTimeout(() => heart.remove(), 1000);
    });

    document.addEventListener('contextmenu', e => e.preventDefault());

    async function fetchRugplayData() {
      try {
        const res = await fetch("https://mhc.ramdanolii1410.workers.dev/");
        const data = await res.json();
        const coin = data.coin;
        document.getElementById("price").textContent = `$${coin.currentPrice.toFixed(4)}`;
        document.getElementById("liquidity").textContent = `$${coin.poolBaseCurrencyAmount.toLocaleString()}`;
        document.getElementById("marketcap").textContent = `$${coin.marketCap.toLocaleString()}`;
        document.getElementById("volume").textContent = `$${coin.volume24h.toLocaleString()}`;
        document.getElementById("change").textContent = `${coin.change24h.toFixed(2)}%`;

        // Setup chart
        const chart = LightweightCharts.createChart(document.getElementById('chart'), {
          layout: { background: { type: 'solid', color: 'transparent' }, textColor: 'var(--text-color)' },
          grid: { vertLines: { visible: false }, horzLines: { visible: false } },
        });
        const candleSeries = chart.addCandlestickSeries();
        const candles = data.candlestickData.map(c => ({
          time: c.time,
          open: c.open,
          high: c.high,
          low: c.low,
          close: c.close
        }));
        candleSeries.setData(candles);
      } catch (e) {
        console.error("‚ùå Gagal ambil data Rugplay:", e);
      }
    }

    fetchRugplayData();
  </script>
</body>
</html>
